{% extends 'layout_extension.html' %}

{% block nav_codelists %}
        <div class="ee-toc-item active">
          <a class="ee-toc-link" href="{{ url_for('extension_codelists', slug=slug, version=version, lang=lang) }}">
            {{ _("Codelists") }}
          </a>

          <ul class="nav ee-sidenav">
  {% for codelist in extension_version.codelists %}
            <li>
              <a href="#{{ codelist }}">
                {{ codelist }}
              </a>
            </li>
  {% endfor %}
          </ul>
        </div>
{% endblock nav_codelists %}

{% block extension_body %}
      <h2 class="ee-title">
        {{ _("Codelists") }}
      </h2>
  {% for codelist in extension_version.codelists %}

      <h3 id="{{ codelist }}">
        {{ codelist }}
      </h3>

      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
    {% for index in codelist_fieldname_indices[codelist] %}
            <th scope="col">
              {{ extension_version.codelists[codelist][lang].fieldnames[index] }}
            </th>
    {% endfor %}
          </tr>
        </thead>
        <tbody>
    {% for row in extension_version.codelists[codelist][lang].rows %}
          <tr>
      {% for index in codelist_fieldname_indices[codelist] %}
            <td>
        {% if loop.first %}
              <code>
        {% endif %}
              {{ row[extension_version.codelists[codelist][lang].fieldnames[index]] }}
        {% if loop.first %}
              </code>
        {% endif %}
            </td>
      {% endfor %}
          </tr>
    {% endfor %}
        </tbody>
      </table>
  {% endfor %}
{% endblock extension_body %}
