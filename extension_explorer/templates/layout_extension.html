{% extends 'layout.html' %}

{% block extensions_nav_link %}active{% endblock %}

{% block main %}
  <div class="row bg-light pt-2">
    <div class="col">
      <h1>
        {{ extension.name[lang] }}
      </h1>

      <p class="lead">
        {{ extension.description[lang] }}
      </p>
    </div>
  </div>

  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-3 ee-sidebar">
      <form class="ee-search d-flex align-items-center">
        <label class="mr-1 mb-0" for="version">{{ _("Version:") }}</label>
        <select class="custom-select custom-select-sm algolia-autocomplete" id="version" onchange="window.location.href=this.value">
          <optgroup label="{{ _("Present versions") }}">
  {% for other_version, date in present_versions %}
            <option value="{{ url_for(request.endpoint, slug=slug, version=other_version, lang=lang) }}"{% if other_version == version %} selected{% endif %}>
              {{ other_version }}
    {% if date %}
              ({{ date }})
    {% endif %}
            </option>
  {% endfor %}
          </optgroup>
  {% if historical_versions %}
          <optgroup label="{{ _("Historical versions") }}">
    {% for other_version, date in historical_versions %}
            <option value="{{ url_for(request.endpoint, slug=slug, version=other_version, lang=lang) }}"{% if other_version == version %} selected{% endif %}>
              {{ other_version }}
    {% if date %}
              ({{ date }})
    {% endif %}
            </option>
    {% endfor %}
  {% endif %}
          </optgroup>
        </select>

        <button class="btn btn-link ee-search-docs-toggle d-md-none p-0 ml-3" type="button" data-toggle="collapse" data-target="#ee-docs-nav" aria-controls="ee-docs-nav" aria-expanded="false" aria-label="Toggle extension navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false" role="img"><title>Menu</title><path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg></button>
      </form>

      <nav class="collapse ee-links" id="ee-docs-nav">
  {% block nav_documentation %}
        <div class="ee-toc-item">
          <a class="ee-toc-link" href="{{ url_for('extension', slug=slug, version=version, lang=lang) }}">
            {{ _("Documentation") }}
          </a>
        </div>
  {% endblock %}
  {% if extension_version.schemas['release-schema.json'][lang] %}
    {% block nav_schema %}
        <div class="ee-toc-item">
          <a class="ee-toc-link" href="{{ url_for('extension_schema', slug=slug, version=version, lang=lang) }}">
            {{ _("Schema") }}
          </a>
        </div>
    {% endblock %}
  {% endif %}
  {% if extension_version.codelists %}
    {% block nav_codelists %}
        <div class="ee-toc-item">
          <a class="ee-toc-link" href="{{ url_for('extension_codelists', slug=slug, version=version, lang=lang) }}">
            {{ _("Codelists") }}
          </a>
        </div>
    {% endblock %}
  {% endif %}
      </nav>

      <a class="btn btn-outline-primary d-none d-md-inline-block" href="{{ extension_version.download_url }}" role="button">Download ZIP</a>
    </div>

    <main class="col-12 col-md-9 col-xl-9 py-md-3 pl-md-5 ee-content" role="main">
  {% block extension_body %}
  {% endblock %}
    </main>
  </div>
{% endblock %}

{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
{% endblock %}
